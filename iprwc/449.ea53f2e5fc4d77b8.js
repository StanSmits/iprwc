"use strict";(self.webpackChunkiQuestion=self.webpackChunkiQuestion||[]).push([[449],{2449:(k,g,r)=>{r.r(g),r.d(g,{ResetPasswordModule:()=>l});var a=r(3599),o=r(433),e=r(4650),u=r(529),h=r(4310),p=r(4722),w=r(6412),v=r(6895);function f(n,t){1&n&&e._UZ(0,"span",17)}function b(n,t){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",18),e._uU(2," Vraag een nieuw wachtwoord aan "),e.qZA())}class c{constructor(t,s,i){this.http=t,this.toastService=s,this.userService=i,this.loading=!1}ngOnInit(){this.initForm()}initForm(){this.changePasswordForm=new o.cw({email:new o.NI(null,[o.kI.required,o.kI.email])})}onRequestNewPassword(){const t=this.changePasswordForm.value.email;this.toastService.show("\u2699\ufe0f - Bezig met het aanvragen van een nieuw wachtwoord...",{classname:"bg-info text-light",delay:15e3}),this.loading=!0,this.userService.requestPasswordReset(t).subscribe({next:()=>{this.toastService.clear(),this.toastService.show("\u2705 - We hebben een e-mail gestuurd met je verficatie token!",{classname:"bg-success text-light",delay:5e3}),this.loading=!1},error:s=>{this.toastService.clear(),this.toastService.show("\u274c - "+s,{classname:"bg-danger text-light",delay:5e3}),this.loading=!1}})}ngOnDestroy(){this.toastService.clear()}}function P(n,t){1&n&&e._UZ(0,"span",17)}function y(n,t){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",18),e._uU(2," Veranderen maar! "),e.qZA())}c.\u0275fac=function(t){return new(t||c)(e.Y36(u.eN),e.Y36(h.k),e.Y36(p.K))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-reset-password"]],decls:23,vars:5,consts:[[1,"vh-100","bg-secondary","d-flex","align-items-center","justify-content-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-9","col-lg-12","col-xl-10"],[1,"card","shadow-lg","border-0","my-5"],[1,"card-body","p-0"],[1,"p-3","p-sm-5"],[1,"text-center","text-dark"],[1,"text-center","text-dark","mb-4"],[3,"formGroup","ngSubmit"],["type","email","placeholder","E-mail adres","formControlName","email","name","email","ngModel","",1,"mb-3","form-control","form-control-user",3,"email"],["id","submitBtn","type","submit",1,"btn","btn-primary","d-block","btn-user","w-100","mb-2",3,"disabled"],["class","spinner-grow","role","status",4,"ngIf"],[4,"ngIf"],[1,"text-center"],[1,"small"],["routerLink","..",1,"text-decoration-none"],["role","status",1,"spinner-grow"],[1,"bi","bi-box-arrow-in-right"]],template:function(t,s){1&t&&(e._UZ(0,"router-outlet"),e.TgZ(1,"div",0),e._UZ(2,"app-toasts"),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"h4",7),e._uU(10,"Wachtwoord vergeten?"),e.qZA(),e.TgZ(11,"p",8),e._uU(12,"Ik help je even!"),e.qZA(),e.TgZ(13,"form",9),e.NdJ("ngSubmit",function(){return s.onRequestNewPassword()}),e._UZ(14,"input",10),e.TgZ(15,"button",11),e.YNc(16,f,1,0,"span",12),e.YNc(17,b,3,0,"div",13),e.qZA()(),e.TgZ(18,"div",14)(19,"p",15),e._uU(20," Weet je je wachtwoord weer ga dan een: "),e.TgZ(21,"a",16),e._uU(22,"Stapje terug"),e.qZA()()()()()()()()()()),2&t&&(e.xp6(13),e.Q6J("formGroup",s.changePasswordForm),e.xp6(1),e.Q6J("email",!0),e.xp6(1),e.Q6J("disabled",!s.changePasswordForm.valid),e.xp6(1),e.Q6J("ngIf",s.loading),e.xp6(1),e.Q6J("ngIf",!s.loading))},dependencies:[a.lC,a.rH,w.y,v.O5,o._Y,o.Fj,o.JJ,o.JL,o.on,o.sg,o.u]});class m{constructor(t,s,i,x,C){this.route=t,this.router=s,this.http=i,this.toastService=x,this.userService=C,this.passwordToken=this.route.snapshot.paramMap.get("token"),this.loading=!1}ngOnInit(){this.initForm(this.passwordToken?this.passwordToken:""),(null==this.passwordToken||""==this.passwordToken||null==this.passwordToken)&&this.toastService.show("\u274c - Foutmelding: Geen geldige token gevonden, probeer de link uit de e-mail opnieuw in te voeren of neem contact op met de beheerder.",{classname:"bg-danger text-light",delay:1e4})}initForm(t){this.changePasswordForm=new o.cw({resetToken:new o.NI({value:t,disabled:!0},[o.kI.required]),newPassword:new o.NI(null,[o.kI.required])})}onChangePassword(){let s=this.changePasswordForm.value.newPassword;this.toastService.show("\u2699\ufe0f - Bezig met het veranderen van je wachtwoord...",{classname:"bg-info text-light",delay:3e3}),this.loading=!0,this.userService.changePassword(this.passwordToken,s).subscribe({next:()=>{this.toastService.show("\u2705 - Je wachtwoord is succesvol gewijzigd, je wordt doorgestuurd naar de login pagina",{classname:"bg-success text-light",delay:3e3}),this.loading=!1,setTimeout(()=>{window.location.href="/login"},2500)},error:i=>{this.toastService.show("\u274c - "+i,{classname:"bg-danger text-light",delay:5e3}),this.loading=!1}})}}m.\u0275fac=function(t){return new(t||m)(e.Y36(a.gz),e.Y36(a.F0),e.Y36(u.eN),e.Y36(h.k),e.Y36(p.K))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-change-password"]],decls:22,vars:4,consts:[[1,"vh-100","bg-secondary","d-flex","align-items-center","justify-content-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-9","col-lg-12","col-xl-10"],[1,"card","shadow-lg","border-0","my-5"],[1,"card-body","p-0"],[1,"p-3","p-sm-5"],[1,"text-center","text-dark"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Ontvangen code","formControlName","resetToken","name","resetToken",1,"mb-3","form-control","form-control-user"],["type","password","placeholder","Nieuw wachtwoord","formControlName","newPassword","name","newPassword",1,"mb-3","form-control","form-control-user"],["id","submitBtn","type","submit",1,"btn","btn-primary","d-block","btn-user","w-100","mb-2",3,"disabled"],["class","spinner-grow","role","status",4,"ngIf"],[4,"ngIf"],[1,"text-center"],[1,"small"],["routerLink","..",1,"text-decoration-none"],["role","status",1,"spinner-grow"],[1,"bi","bi-box-arrow-in-right"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-toasts"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",5)(8,"div",6)(9,"h4",7),e._uU(10,"Nieuw wachtwoord"),e.qZA(),e.TgZ(11,"form",8),e.NdJ("ngSubmit",function(){return s.onChangePassword()}),e._UZ(12,"input",9)(13,"input",10),e.TgZ(14,"button",11),e.YNc(15,P,1,0,"span",12),e.YNc(16,y,3,0,"div",13),e.qZA()(),e.TgZ(17,"div",14)(18,"p",15),e._uU(19," Verkeerde e-mail ingevoerd? "),e.TgZ(20,"a",16),e._uU(21," Stapje terug"),e.qZA()()()()()()()()()()()),2&t&&(e.xp6(11),e.Q6J("formGroup",s.changePasswordForm),e.xp6(3),e.Q6J("disabled",!s.changePasswordForm.valid),e.xp6(1),e.Q6J("ngIf",s.loading),e.xp6(1),e.Q6J("ngIf",!s.loading))},dependencies:[a.rH,w.y,v.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]});const T=[{path:"",children:[{path:"",component:c},{path:":token",component:m}]}];class d{}d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[a.Bz.forChild(T),a.Bz]});var Z=r(4466);class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[d,Z.m]})}}]);